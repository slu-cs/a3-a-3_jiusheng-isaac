<!--Examples of editing the DOM-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Poll</title>
</head>
<body>
  <form>
    <h1 class="prompt">Enter a question:</h1>
    <input type="text" name="left">
    <button type="submit" class="submit">Submit</button>
  </form>
  <div class="poll"></div>
  <div class="vote">
  </div>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>
  /* Code from Todo exercise
  // Add to the to-do list
  $('form').on('submit', function(event) {
    event.preventDefault();

    // Grab the text and empty the box
    const input = $('input');
    const item = input.val();
    input.val('');

    // Add a non-empty item to the list
    if (item) {
      $('#placeholder').remove();
      $('ul').append($(`
        <li>
         <span>${item}</span>
         <button>Delete</button>
        </li>
      `));
    }
  });

  // Delete from the to-do list
  $('ul').on('click', 'button', function(event) {
    $(this).closest('li').remove();

    // Put back the placeholder if it's empty
    const items = $('li');
    if (items.length == 0) {
      $('ul').append($('<li id="placeholder">Think of something to do!</li>'));
    }
  });
  */

  // Number of times the form has been submitted
  let counter = 0;
  let select = $('<select name="options"><option value="" selected disabled hidden>Choose</option></select>');

  // Enter a question
  $('form').on('submit', function(event) {
    const form = $(this); // JQuery object representing the form
    event.preventDefault(); // Don't really submit the form
    const input = $('input');
    const item = input.val();
    input.val('');
    $('form .prompt').replaceWith(`<h1 class="prompt">Enter answers for: ${item}</h1>`);
    $('form .submit').replaceWith('<button class="submit" id="submit">Submit</button>');
    if ($('#finish')[0]) {
      $('#finish').replaceWith('<button id="done">Done</button>');
    } else {
        $('form').append('<button id="done">Done</button>');
    }
    // Add a non-empty item to the list
    if (item) {
      $('.poll').append($(`<h1 value="${item}">${item}</h1>`));
    }
});

  // Enter answers for this question
  $('form').on('click', '#submit', function(event) {
    const form = $(this); // JQuery object representing the form
    event.preventDefault(); // Don't really submit the form

    // Translate each input value into a list item
    const input = $('input');
    const item = input.val();
    input.val('');

    select.append($(`<option value="${item}">${item}</option>`))
    // Add to the page
    $('.poll').append(select);
  });

  // Return to question creation page
  $('form').on('click', '#done', function(event) {
    const form = $(this); // JQuery object representing the form
    event.preventDefault(); // Don't really submit the form

    // Ignore anything in the text box and clear it
    const input = $('input');
    input.val('');
    select = $('<select name="options"><option value="" selected disabled hidden>Choose</option></select>');
    $('form .prompt').replaceWith('<h1 class="prompt">Enter a question:</h1>');
    $('form .submit').replaceWith('<button type="submit" class="submit">Submit</button>');
    $('#done').replaceWith('<button id="finish">Finished</button>');
  });

  // Poll finished
  $('form').on('click', '#finish', function(event) {
    const form = $(this);
    event.preventDefault();
    $('form').remove();
    $('.vote').append($('<button type="submit" id="vote">Vote</button>'));
  })

  $('.vote').on('submit', function(event) {
    const form = $(this); // JQuery object representing the form
    event.preventDefault(); // Don't really submit the form
  });
  counter++;
  </script>
</body>
</html>
